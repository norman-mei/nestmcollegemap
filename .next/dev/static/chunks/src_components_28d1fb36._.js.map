{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/sidebar/SidebarContainer.tsx"],"sourcesContent":["'use client';\n\nimport React, { useState, useRef, useEffect } from 'react';\nimport { cn } from '@/lib/utils';\n\nexport default function SidebarContainer({ children }: { children: React.ReactNode }) {\n  const [width, setWidth] = useState<number>(400);\n  const [isResizing, setIsResizing] = useState(false);\n  const sidebarRef = useRef<HTMLDivElement>(null);\n\n  const startResizing = React.useCallback(() => {\n    setIsResizing(true);\n  }, []);\n\n  const stopResizing = React.useCallback(() => {\n    setIsResizing(false);\n  }, []);\n\n  const resize = React.useCallback((mouseMoveEvent: MouseEvent) => {\n    if (isResizing) {\n      const newWidth = mouseMoveEvent.clientX;\n      if (newWidth > 300 && newWidth < 800) {\n          setWidth(newWidth);\n          if (typeof window !== 'undefined') {\n            window.localStorage.setItem('sidebar-width', String(newWidth));\n          }\n      }\n    }\n  }, [isResizing]);\n\n  useEffect(() => {\n    // apply stored width after mount to avoid SSR mismatch\n    if (typeof window !== 'undefined') {\n      const stored = window.localStorage.getItem('sidebar-width');\n      const parsed = stored ? parseInt(stored, 10) : NaN;\n      if (parsed && parsed > 300 && parsed < 800) {\n        setWidth(parsed);\n      }\n    }\n\n    window.addEventListener(\"mousemove\", resize);\n    window.addEventListener(\"mouseup\", stopResizing);\n    return () => {\n      window.removeEventListener(\"mousemove\", resize);\n      window.removeEventListener(\"mouseup\", stopResizing);\n    };\n  }, [resize, stopResizing]);\n\n  return (\n    <div className=\"flex h-full relative z-20 shadow-xl\" style={{ width: width }}>\n      <div \n        ref={sidebarRef}\n        className=\"flex-1 bg-gray-50 dark:bg-neutral-900 border-r border-gray-300 dark:border-neutral-800 h-full flex flex-col overflow-hidden\"\n      >\n        {children}\n      </div>\n      <div\n        className=\"w-1 bg-gray-300 dark:bg-neutral-800 hover:bg-blue-500 cursor-col-resize transition-colors\"\n        onMouseDown={startResizing}\n      />\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;;;AAFA;;AAKe,SAAS,iBAAiB,EAAE,QAAQ,EAAiC;;IAClF,MAAM,CAAC,OAAO,SAAS,GAAG,IAAA,yKAAQ,EAAS;IAC3C,MAAM,CAAC,YAAY,cAAc,GAAG,IAAA,yKAAQ,EAAC;IAC7C,MAAM,aAAa,IAAA,uKAAM,EAAiB;IAE1C,MAAM,gBAAgB,wKAAK,CAAC,WAAW;uDAAC;YACtC,cAAc;QAChB;sDAAG,EAAE;IAEL,MAAM,eAAe,wKAAK,CAAC,WAAW;sDAAC;YACrC,cAAc;QAChB;qDAAG,EAAE;IAEL,MAAM,SAAS,wKAAK,CAAC,WAAW;gDAAC,CAAC;YAChC,IAAI,YAAY;gBACd,MAAM,WAAW,eAAe,OAAO;gBACvC,IAAI,WAAW,OAAO,WAAW,KAAK;oBAClC,SAAS;oBACT,wCAAmC;wBACjC,OAAO,YAAY,CAAC,OAAO,CAAC,iBAAiB,OAAO;oBACtD;gBACJ;YACF;QACF;+CAAG;QAAC;KAAW;IAEf,IAAA,0KAAS;sCAAC;YACR,uDAAuD;YACvD,wCAAmC;gBACjC,MAAM,SAAS,OAAO,YAAY,CAAC,OAAO,CAAC;gBAC3C,MAAM,SAAS,SAAS,SAAS,QAAQ,MAAM;gBAC/C,IAAI,UAAU,SAAS,OAAO,SAAS,KAAK;oBAC1C,SAAS;gBACX;YACF;YAEA,OAAO,gBAAgB,CAAC,aAAa;YACrC,OAAO,gBAAgB,CAAC,WAAW;YACnC;8CAAO;oBACL,OAAO,mBAAmB,CAAC,aAAa;oBACxC,OAAO,mBAAmB,CAAC,WAAW;gBACxC;;QACF;qCAAG;QAAC;QAAQ;KAAa;IAEzB,qBACE,6LAAC;QAAI,WAAU;QAAsC,OAAO;YAAE,OAAO;QAAM;;0BACzE,6LAAC;gBACC,KAAK;gBACL,WAAU;0BAET;;;;;;0BAEH,6LAAC;gBACC,WAAU;gBACV,aAAa;;;;;;;;;;;;AAIrB;GAzDwB;KAAA"}},
    {"offset": {"line": 108, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/sidebar/StudentList.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo, useState, useEffect } from 'react';\nimport { useFilters } from '@/contexts/FilterContext';\nimport { useUI } from '@/contexts/UIContext';\nimport { ProcessedStudent } from '@/lib/types';\nimport { GRAD_CLASS_COLORS } from '@/lib/constants';\n\ntype CollapsedState = Record<string, boolean>;\n\nexport default function StudentList() {\n  const { filteredStudents, filterState, setFilterState } = useFilters();\n  const { openPhotoPopup, setActiveHoverId, activeHoverId } = useUI();\n  const [isGallery, setIsGallery] = useState(false);\n  const [collapsedClasses, setCollapsedClasses] = useState<CollapsedState>(() => {\n    if (typeof window === 'undefined') return {};\n    try {\n      return JSON.parse(localStorage.getItem('collapsedGradClasses') || '{}') || {};\n    } catch {\n      return {};\n    }\n  });\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    localStorage.setItem('collapsedGradClasses', JSON.stringify(collapsedClasses));\n  }, [collapsedClasses]);\n\n  const groupedByGrad = useMemo(() => {\n    const groups = new Map<string, ProcessedStudent[]>();\n    filteredStudents.forEach((s) => {\n      const key = s.gradClass;\n      if (!groups.has(key)) groups.set(key, []);\n      groups.get(key)!.push(s);\n    });\n    return Array.from(groups.entries()).sort(([a], [b]) => a.localeCompare(b));\n  }, [filteredStudents]);\n\n  const handleSearch = (e: React.ChangeEvent<HTMLInputElement>) => {\n    setFilterState((prev) => ({ ...prev, searchQuery: e.target.value }));\n  };\n\n  const toggleClass = (gradClass: string) => {\n    setCollapsedClasses((prev) => ({ ...prev, [gradClass]: !prev[gradClass] }));\n  };\n\n  const ListItem = ({ student }: { student: ProcessedStudent }) => {\n    const color = GRAD_CLASS_COLORS[student.gradClass] || '#ccc';\n    const isHovered = activeHoverId === student.id;\n    return (\n      <div\n        className={`px-4 py-2 border-b border-gray-200 dark:border-neutral-800 transition-colors cursor-pointer ${\n          isHovered ? 'bg-blue-50 dark:bg-blue-900/20' : 'hover:bg-gray-100 dark:hover:bg-neutral-800'\n        }`}\n        onClick={(e) => openPhotoPopup(student, e.currentTarget.getBoundingClientRect())}\n        onMouseEnter={(e) => {\n          setActiveHoverId(student.id);\n          openPhotoPopup(student, e.currentTarget.getBoundingClientRect());\n        }}\n        onMouseLeave={() => setActiveHoverId(null)}\n      >\n        <div className=\"flex justify-between items-start\">\n          <div>\n            <span className=\"font-bold text-gray-900 dark:text-gray-100\">{student.seniorName}</span>\n            <span\n              className=\"ml-2 text-xs font-bold px-1.5 py-0.5 rounded text-white\"\n              style={{ backgroundColor: color }}\n            >\n              {student.gradClass}\n            </span>\n          </div>\n        </div>\n        <div className=\"text-sm text-blue-600 dark:text-blue-400 font-medium\">{student.collegeName}</div>\n        <div className=\"text-xs text-gray-500 dark:text-gray-400\">{student.major || 'Undecided'}</div>\n      </div>\n    );\n  };\n\n  const GalleryItem = ({ student }: { student: ProcessedStudent }) => (\n    <div\n      className=\"relative aspect-square bg-gray-200 dark:bg-neutral-800 rounded overflow-hidden group cursor-pointer\"\n      onClick={(e) => openPhotoPopup(student, e.currentTarget.getBoundingClientRect())}\n      onMouseEnter={() => setActiveHoverId(student.id)}\n      onMouseLeave={() => setActiveHoverId(null)}\n    >\n      <img\n        src={student.seniorPhotoUrl}\n        alt={student.seniorName}\n        className=\"object-cover w-full h-full\"\n        onError={(e) => {\n          (e.target as HTMLImageElement).src = '/placeholder-logo.png';\n        }}\n      />\n      <div className=\"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center p-2 text-center\">\n        <span className=\"text-white text-sm font-bold\">\n          {student.seniorName} {'->'} {student.collegeName}\n        </span>\n      </div>\n      <div\n        className=\"absolute top-1 right-1 text-xs font-bold text-white px-1.5 py-0.5 rounded\"\n        style={{ backgroundColor: GRAD_CLASS_COLORS[student.gradClass] }}\n      >\n        '{student.gradClass.replace(\"'\", '')}\n      </div>\n    </div>\n  );\n\n  return (\n    <div className=\"flex flex-col h-full min-h-0\">\n      <div className=\"p-4 border-b border-gray-300 dark:border-neutral-800 bg-white dark:bg-neutral-900 sticky top-0 z-10\">\n        <h2 className=\"text-lg font-bold mb-2\">College List & Seniors</h2>\n        <div className=\"flex gap-2 mb-2\">\n          <input\n            type=\"text\"\n            placeholder=\"Search...\"\n            className=\"flex-1 px-2 py-1 border rounded text-sm dark:bg-neutral-800 dark:border-neutral-700\"\n            value={filterState.searchQuery}\n            onChange={handleSearch}\n          />\n          <button\n            onClick={() => setIsGallery(!isGallery)}\n            className=\"px-3 py-1 bg-gray-200 dark:bg-neutral-700 rounded text-sm\"\n          >\n            {isGallery ? 'List' : 'Gallery'}\n          </button>\n        </div>\n        <div className=\"text-xs text-gray-500\">Showing {filteredStudents.length} students</div>\n      </div>\n\n      <div\n        className=\"flex-1 min-h-0 overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-400\"\n        style={{ scrollbarGutter: 'stable', maxHeight: 'calc(100vh - 240px)' }}\n      >\n        {filteredStudents.length === 0 ? (\n            <div className=\"p-8 text-center text-gray-500\">No results found.</div>\n        ) : (\n          groupedByGrad.map(([gradClass, students]) => {\n            const isCollapsed = collapsedClasses[gradClass] ?? false;\n            return (\n              <div key={gradClass} className=\"border-b border-gray-200 dark:border-neutral-800\">\n                <button\n                  className=\"w-full flex items-center justify-between px-4 py-2 bg-gray-100 dark:bg-neutral-800 text-left font-semibold\"\n                  onClick={() => toggleClass(gradClass)}\n                >\n                  <span className=\"flex items-center gap-2\">\n                    <span\n                      className=\"inline-block h-3 w-3 rounded-full\"\n                      style={{ backgroundColor: GRAD_CLASS_COLORS[gradClass] || '#ccc' }}\n                    />\n                    <span>{gradClass} Seniors</span>\n                    <span className=\"text-xs text-gray-500 ml-1\">({students.length})</span>\n                  </span>\n                  <span className=\"text-sm\">{isCollapsed ? '[+]' : '[-]'}</span>\n                </button>\n\n                {!isCollapsed && (\n                  <div className=\"p-2\">\n                    {isGallery ? (\n                      <div className=\"grid grid-cols-2 sm:grid-cols-3 gap-3\">\n                        {students.map((s) => (\n                          <GalleryItem key={s.id} student={s} />\n                        ))}\n                      </div>\n                    ) : (\n                      <div className=\"divide-y divide-gray-200 dark:divide-neutral-800\">\n                        {students.map((s) => (\n                          <ListItem key={s.id} student={s} />\n                        ))}\n                      </div>\n                    )}\n                  </div>\n                )}\n              </div>\n            );\n          })\n        )}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 513, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/sidebar/FilterPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo } from 'react';\nimport { useFilters } from '@/contexts/FilterContext';\nimport { GRAD_CLASS_COLORS, PREDEFINED_MAJOR_AREAS } from '@/lib/constants';\nimport { useData } from '@/contexts/DataContext';\n\nconst REGION_OPTIONS = [\n  { key: 'InCityNYC', label: 'NYC', detail: 'NYC schools', icon: 'üóΩ' },\n  { key: 'InStateNYOther', label: 'NY State', detail: 'Outside NYC', icon: 'üß≠' },\n  { key: 'OutOfStateUS', label: 'Out-of-State US', detail: 'US outside NY', icon: '‚úàÔ∏è' },\n  { key: 'International', label: 'International', detail: 'Outside US', icon: 'üåç' },\n];\n\nconst MAJOR_COUNT_OVERRIDES: Record<string, number> = {\n  \"Arts/Design\": 24,\n  \"Business/Economics\": 53,\n  \"Communications\": 1,\n  \"Computer Science\": 5,\n  \"Education\": 3,\n  \"Engineering\": 37,\n  \"Health Sciences\": 26,\n  \"Humanities\": 10,\n  \"Humanities/Social Sciences\": 67,\n  \"IT\": 5,\n  \"Journalism\": 1,\n  \"Life Sciences\": 2,\n  \"Mathematics\": 2,\n  \"Physical Sciences\": 4,\n  \"Social Sciences\": 7,\n  \"Statistics\": 2,\n  \"STEM\": 68,\n  \"Other\": 0,\n  \"Undecided/Other\": 66,\n};\n\nexport default function FilterPanel() {\n  const { allStudents } = useData();\n  const { filterState, setFilterState, toggleGradClass, toggleMajorArea, toggleLocationFocus, toggleStateCountry } = useFilters();\n\n  const regionCounts = useMemo(() => {\n    const counts: Record<string, number> = {};\n    allStudents.forEach((s) => {\n      counts[s.locationFocus] = (counts[s.locationFocus] || 0) + 1;\n    });\n    return counts;\n  }, [allStudents]);\n\n  const majorCounts = useMemo(() => {\n    const counts: Record<string, number> = {};\n    allStudents.forEach((s) => {\n      const areas = s.majorArea.split(' & ').map((a) => a.trim());\n      areas.forEach((area) => {\n        counts[area] = (counts[area] || 0) + 1;\n      });\n    });\n    return counts;\n  }, [allStudents]);\n\n  const outOfStateCounts = useMemo(() => {\n    const counts: Record<string, number> = {};\n    allStudents.forEach((s) => {\n      if (s.stateOrCountry && s.stateOrCountry.length === 2 && s.stateOrCountry !== 'NY') {\n        counts[s.stateOrCountry] = (counts[s.stateOrCountry] || 0) + 1;\n      }\n    });\n    return Object.entries(counts)\n      .filter(([, count]) => count > 0)\n      .sort((a, b) => a[0].localeCompare(b[0]));\n  }, [allStudents]);\n\n  const setRegions = (keys: string[]) => {\n    const nextState: Record<string, boolean> = {};\n    REGION_OPTIONS.forEach(({ key }) => {\n      nextState[key] = keys.includes(key);\n    });\n    // Keep \"N/A\" untouched (hidden) if it exists\n    if (filterState.locationFocus['N/A'] !== undefined) {\n      nextState['N/A'] = filterState.locationFocus['N/A'];\n    }\n    setFilterState((prev) => ({ ...prev, locationFocus: nextState }));\n  };\n\n  return (\n    <div className=\"p-4 border-b border-gray-300 dark:border-neutral-800 space-y-4\">\n        {/* Grad Class Filter */}\n        <details open className=\"group\">\n            <summary className=\"font-bold cursor-pointer list-none flex justify-between\">\n                <span>Filter by Graduating Class</span>\n                <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n            </summary>\n            <div className=\"mt-2 space-y-1\">\n                {Object.keys(GRAD_CLASS_COLORS).map(cls => (\n                    <label key={cls} className=\"flex items-center space-x-2 text-sm cursor-pointer\">\n                        <input \n                            type=\"checkbox\" \n                            checked={!!filterState.gradClasses[cls]}\n                            onChange={() => toggleGradClass(cls)}\n                            className=\"rounded border-gray-300\"\n                        />\n                        <span className=\"w-3 h-3 inline-block rounded-full\" style={{ backgroundColor: GRAD_CLASS_COLORS[cls] }}></span>\n                        <span>{cls}</span>\n                    </label>\n                ))}\n            </div>\n        </details>\n\n        {/* Major Area Filter */}\n         <details className=\"group\">\n            <summary className=\"font-bold cursor-pointer list-none flex justify-between\">\n                <span>Filter by Major Area</span>\n                <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n            </summary>\n            <div className=\"mt-2 space-y-3\">\n              <div className=\"flex flex-wrap gap-2 text-xs\">\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => {\n                    const next = PREDEFINED_MAJOR_AREAS.reduce((acc, a) => ({ ...acc, [a]: true }), {} as Record<string, boolean>);\n                    setFilterState((prev) => ({ ...prev, majorAreas: next }));\n                  }}\n                >\n                  Select All\n                </button>\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => {\n                    const next = PREDEFINED_MAJOR_AREAS.reduce((acc, a) => ({ ...acc, [a]: false }), {} as Record<string, boolean>);\n                    setFilterState((prev) => ({ ...prev, majorAreas: next }));\n                  }}\n                >\n                  Clear All\n                </button>\n              </div>\n\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-2\">\n                {PREDEFINED_MAJOR_AREAS.filter((area) => (majorCounts[area] ?? MAJOR_COUNT_OVERRIDES[area] ?? 0) > 0).map((area) => {\n                  const checked = !!filterState.majorAreas[area];\n                  const displayCount = majorCounts[area] ?? MAJOR_COUNT_OVERRIDES[area] ?? 0;\n                  return (\n                    <label\n                      key={area}\n                      className={`flex items-center justify-between rounded border px-3 py-2 text-sm cursor-pointer transition-colors ${\n                        checked\n                          ? 'bg-green-50 dark:bg-green-900/20 border-green-200 dark:border-green-700'\n                          : 'bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 hover:bg-gray-50 dark:hover:bg-neutral-800'\n                      }`}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        toggleMajorArea(area);\n                      }}\n                      >\n                      <span className=\"flex flex-col\">\n                        <span className=\"font-semibold\">{area}</span>\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">{displayCount} students</span>\n                      </span>\n                      <input\n                        type=\"checkbox\"\n                        readOnly\n                        checked={checked}\n                        className=\"w-4 h-4 rounded border-gray-300 dark:border-neutral-600 accent-green-600\"\n                      />\n                    </label>\n                  );\n                })}\n              </div>\n            </div>\n        </details>\n\n        {/* Location Focus */}\n         <details className=\"group\">\n            <summary className=\"font-bold cursor-pointer list-none flex justify-between\">\n                <span>Filter by Region</span>\n                <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n            </summary>\n            <div className=\"mt-2 space-y-3\">\n              <div className=\"flex flex-wrap gap-2 text-xs\">\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => setRegions(REGION_OPTIONS.map((r) => r.key))}\n                >\n                  Select All\n                </button>\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => setRegions(['InCityNYC'])}\n                >\n                  NYC Only\n                </button>\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => setRegions(['InCityNYC', 'InStateNYOther'])}\n                >\n                  All NY\n                </button>\n                <button\n                  className=\"px-2 py-1 rounded border border-gray-300 dark:border-neutral-700 hover:bg-gray-100 dark:hover:bg-neutral-800\"\n                  onClick={() => setRegions(['OutOfStateUS', 'International'])}\n                >\n                  Beyond NY\n                </button>\n              </div>\n\n              <div className=\"space-y-2\">\n                {REGION_OPTIONS.map(({ key, label, detail, icon }) => {\n                  const checked = !!filterState.locationFocus[key];\n                  return (\n                    <label\n                      key={key}\n                      className={`flex items-center justify-between rounded border px-3 py-2 text-sm cursor-pointer transition-colors ${\n                        checked\n                          ? 'bg-blue-50 dark:bg-blue-900/20 border-blue-200 dark:border-blue-700'\n                          : 'bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 hover:bg-gray-50 dark:hover:bg-neutral-800'\n                      }`}\n                      onClick={(e) => {\n                        e.preventDefault();\n                        toggleLocationFocus(key);\n                      }}\n                    >\n                      <span className=\"flex items-center gap-3\">\n                        <span className=\"text-lg\">{icon}</span>\n                        <span className=\"flex flex-col\">\n                          <span className=\"font-semibold\">{label}</span>\n                          <span className=\"text-xs text-gray-500 dark:text-gray-400\">{detail}</span>\n                        </span>\n                      </span>\n                      <span className=\"flex items-center gap-3\">\n                        <span className=\"text-xs text-gray-500 dark:text-gray-400\">({regionCounts[key] || 0})</span>\n                        <input\n                          type=\"checkbox\"\n                          readOnly\n                          checked={checked}\n                          className=\"w-4 h-4 rounded border-gray-300 dark:border-neutral-600 accent-blue-600\"\n                        />\n                      </span>\n                    </label>\n                  );\n                })}\n              </div>\n\n              {outOfStateCounts.length > 0 && (\n                <details className=\"group\">\n                  <summary className=\"font-semibold cursor-pointer list-none flex justify-between text-sm\">\n                    <span>Out-of-State breakdown</span>\n                    <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n                  </summary>\n                  <div className=\"mt-2 grid grid-cols-2 gap-2 text-sm\">\n                    {outOfStateCounts.map(([state, count]) => {\n                      const checked = filterState.stateCountry[state] ?? true;\n                      return (\n                        <label\n                          key={state}\n                          className={`flex items-center justify-between rounded border px-3 py-2 cursor-pointer transition-colors ${\n                            checked\n                              ? 'bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700'\n                              : 'bg-white dark:bg-neutral-900 border-gray-200 dark:border-neutral-800 hover:bg-gray-50 dark:hover:bg-neutral-800'\n                          }`}\n                          onClick={(e) => {\n                            e.preventDefault();\n                            toggleStateCountry(state);\n                          }}\n                        >\n                          <span className=\"font-semibold\">{state}</span>\n                          <span className=\"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400\">\n                            ({count})\n                            <input\n                              type=\"checkbox\"\n                              readOnly\n                              checked={checked}\n                              className=\"w-4 h-4 rounded border-gray-300 dark:border-neutral-600 accent-purple-600\"\n                            />\n                          </span>\n                        </label>\n                      );\n                    })}\n                  </div>\n                </details>\n              )}\n            </div>\n        </details>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1175, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/sidebar/StatisticsPanel.tsx"],"sourcesContent":["'use client';\n\nimport React, { useMemo } from 'react';\nimport { useFilters } from '@/contexts/FilterContext';\nimport { useData } from '@/contexts/DataContext';\nimport { GRAD_CLASS_COLORS } from '@/lib/constants';\n\nexport default function StatisticsPanel() {\n  const { filteredStudents, filterState, toggleLocationFocus } = useFilters();\n  const { allStudents } = useData();\n\n  const regionStats = useMemo(() => {\n    const template = () => ({\n      Public: 0,\n      Private: 0,\n      Total: 0,\n      grads: {} as Record<string, number>,\n    });\n    const stats: Record<string, ReturnType<typeof template>> = {\n      InCityNYC: template(),\n      InStateNYOther: template(),\n      OutOfStateUS: template(),\n      International: template(),\n      Total: template(),\n    };\n\n    filteredStudents.forEach((student) => {\n      const focus = student.locationFocus;\n      if (!(focus in stats) || focus === 'N/A') return;\n      const bucket = stats[focus];\n      const type = student.isCampusPublic ? 'Public' : 'Private';\n      bucket[type] += 1;\n      bucket.Total += 1;\n      bucket.grads[student.gradClass] = (bucket.grads[student.gradClass] || 0) + 1;\n\n      const total = stats.Total;\n      total[type] += 1;\n      total.Total += 1;\n      total.grads[student.gradClass] = (total.grads[student.gradClass] || 0) + 1;\n    });\n\n    return stats;\n  }, [filteredStudents]);\n\n  const topColleges = useMemo(() => {\n    const counts: Record<string, number> = {};\n    filteredStudents.forEach((s) => {\n      counts[s.collegeName] = (counts[s.collegeName] || 0) + 1;\n    });\n    return Object.entries(counts)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 5);\n  }, [filteredStudents]);\n\n  const totalStudents = allStudents.length;\n\n  return (\n    <div className=\"p-4 border-b border-gray-300 dark:border-neutral-800\">\n         <details className=\"group\">\n            <summary className=\"font-bold cursor-pointer list-none flex justify-between\">\n                <span>College Attendance Statistics</span>\n                <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n            </summary>\n            <div className=\"mt-3 space-y-3\">\n              {/* Region cards */}\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm\">\n                {[\n                  { key: \"InCityNYC\", label: \"In City (NYC)\" },\n                  { key: \"InStateNYOther\", label: \"In State (NY)\" },\n                  { key: \"OutOfStateUS\", label: \"Out of State\" },\n                  { key: \"International\", label: \"International\" }\n                ].map(({ key, label }) => {\n                  const region = regionStats[key];\n                  const percent = totalStudents ? Math.round((region.Total / totalStudents) * 100) : 0;\n                  return (\n                    <div\n                      key={key}\n                      className=\"rounded border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 shadow-sm flex flex-col gap-2\"\n                    >\n                      <div className=\"flex items-center justify-between\">\n                        <div>\n                          <div className=\"font-semibold\">{label}</div>\n                          <div className=\"text-xs text-gray-500 dark:text-gray-400\">{region.Total} students ‚Ä¢ {percent}%</div>\n                        </div>\n                        <label className=\"flex items-center gap-2 text-xs\">\n                          <input\n                            type=\"checkbox\"\n                            checked={!!filterState.locationFocus[key]}\n                            onChange={() => toggleLocationFocus(key)}\n                          />\n                          <span>Show</span>\n                        </label>\n                      </div>\n                      <div className=\"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-300\">\n                        <span className=\"px-2 py-0.5 rounded bg-green-100 text-green-800 dark:bg-green-900/40 dark:text-green-200\">Public: {region.Public}</span>\n                        <span className=\"px-2 py-0.5 rounded bg-amber-100 text-amber-800 dark:bg-amber-900/40 dark:text-amber-200\">Private: {region.Private}</span>\n                      </div>\n                      {Object.keys(region.grads).length > 0 && (\n                        <div className=\"flex flex-wrap gap-2 text-xs\">\n                          {Object.entries(region.grads).sort().map(([grad, count]) => (\n                            <span\n                              key={grad}\n                              className=\"px-2 py-0.5 rounded text-white font-semibold\"\n                              style={{ backgroundColor: GRAD_CLASS_COLORS[grad] || '#666' }}\n                            >\n                              {grad}: {count}\n                            </span>\n                          ))}\n                        </div>\n                      )}\n                    </div>\n                  );\n                })}\n              </div>\n\n              {/* Top colleges */}\n              <div className=\"rounded border border-gray-200 dark:border-neutral-800 bg-white dark:bg-neutral-900 p-3 shadow-sm\">\n                <div className=\"flex items-center justify-between mb-2\">\n                  <div className=\"font-semibold text-sm\">Top Colleges (Filtered)</div>\n                  <div className=\"text-xs text-gray-500 dark:text-gray-400\">{filteredStudents.length} students</div>\n                </div>\n                {topColleges.length === 0 ? (\n                  <div className=\"text-xs text-gray-500\">No colleges in current filters.</div>\n                ) : (\n                  <ul className=\"text-xs space-y-1\">\n                    {topColleges.map(([college, count], idx) => (\n                      <li key={college} className=\"flex justify-between\">\n                        <span>{idx + 1}. {college}</span>\n                        <span className=\"font-semibold\">{count}</span>\n                      </li>\n                    ))}\n                  </ul>\n                )}\n              </div>\n            </div>\n        </details>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1546, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/sidebar/TrendCharts.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport {\n  Chart as ChartJS,\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend,\n  ChartOptions\n} from 'chart.js';\nimport { Line } from 'react-chartjs-2';\nimport { useData } from '@/contexts/DataContext';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { PREDEFINED_MAJOR_AREAS } from '@/lib/constants';\n\nChartJS.register(\n  CategoryScale,\n  LinearScale,\n  PointElement,\n  LineElement,\n  Title,\n  Tooltip,\n  Legend\n);\n\nexport default function TrendCharts() {\n  const { allStudents } = useData();\n  const { theme } = useTheme();\n  const isDark = theme === 'dark';\n\n  const years = [\"'21\", \"'22\", \"'23\", \"'24\", \"'25\", \"'26\"];\n  const palette = [\n    '#FF6384', '#36A2EB', '#FFCE56', '#4BC0C0', '#9966FF', '#FF9F40',\n    '#8A2BE2', '#5F9EA0', '#D2691E', '#FF7F50', '#6495ED', '#20c997',\n    '#f472b6', '#f59e0b', '#22c55e', '#6366f1', '#06b6d4'\n  ];\n\n  const totalsByYear = React.useMemo(() => {\n    const map: Record<string, number> = {};\n    years.forEach((y) => { map[y] = 0; });\n    allStudents.forEach((s) => {\n      if (map[s.gradClass] !== undefined) map[s.gradClass] += 1;\n    });\n    return map;\n  }, [allStudents, years]);\n\n  const majorDatasets = PREDEFINED_MAJOR_AREAS.map((area, idx) => {\n    const data = years.map(year => {\n      const total = totalsByYear[year] || 0;\n      if (!total) return 0;\n      const count = allStudents.filter(s => s.gradClass === year && s.majorArea === area).length;\n      return (count / total) * 100;\n    });\n\n    return {\n      label: area,\n      data,\n      borderColor: palette[idx % palette.length],\n      backgroundColor: palette[idx % palette.length],\n      tension: 0.3,\n      hidden: idx > 4 // reduce clutter by default\n    };\n  });\n\n  const locationKeys = [\n    { key: 'InCityNYC', label: 'NYC' },\n    { key: 'InStateNYOther', label: 'Rest of NY' },\n    { key: 'OutOfStateUS', label: 'Out of State' },\n    { key: 'International', label: 'International' },\n  ];\n\n  const locationDatasets = locationKeys.map((loc, idx) => {\n    const data = years.map(year => {\n      const total = totalsByYear[year] || 0;\n      if (!total) return 0;\n      const count = allStudents.filter(s => s.gradClass === year && s.locationFocus === loc.key).length;\n      return (count / total) * 100;\n    });\n    return {\n      label: loc.label,\n      data,\n      borderColor: palette[(idx + 5) % palette.length],\n      backgroundColor: palette[(idx + 5) % palette.length],\n      tension: 0.3,\n    };\n  });\n\n  const topFiveColleges = React.useMemo(() => {\n    const counts: Record<string, number> = {};\n    allStudents.forEach((s) => {\n      if (!s.collegeName || s.collegeName === 'Undecided') return;\n      counts[s.collegeName] = (counts[s.collegeName] || 0) + 1;\n    });\n    return Object.entries(counts)\n      .sort((a, b) => b[1] - a[1])\n      .slice(0, 5)\n      .map(([name]) => name);\n  }, [allStudents]);\n\n  const collegeDatasets = topFiveColleges.map((college, idx) => {\n    const data = years.map(year => {\n      const total = totalsByYear[year] || 0;\n      if (!total) return 0;\n      const count = allStudents.filter(s => s.gradClass === year && s.collegeName === college).length;\n      return (count / total) * 100;\n    });\n    return {\n      label: college,\n      data,\n      borderColor: palette[(idx + 9) % palette.length],\n      backgroundColor: palette[(idx + 9) % palette.length],\n      tension: 0.3,\n    };\n  });\n\n  const options: ChartOptions<'line'> = {\n    responsive: true,\n    maintainAspectRatio: false,\n    interaction: {\n      mode: 'index' as const,\n      intersect: false,\n    },\n    plugins: {\n      legend: {\n        position: 'top' as const,\n        labels: {\n            color: isDark ? '#e5e5e5' : '#333',\n            boxWidth: 10,\n            font: { size: 10 }\n        }\n      },\n      title: {\n        display: false,\n      },\n      tooltip: {\n          callbacks: {\n              label: (ctx) => {\n                const value = typeof ctx.parsed?.y === 'number' ? ctx.parsed.y : 0;\n                return `${ctx.dataset.label}: ${value.toFixed(1)}%`;\n              }\n          }\n      }\n    },\n    scales: {\n        x: {\n            grid: { color: isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)' },\n            ticks: { color: isDark ? '#ccc' : '#666' }\n        },\n        y: {\n            grid: { color: isDark ? 'rgba(255,255,255,0.1)' : 'rgba(0,0,0,0.1)' },\n            ticks: { color: isDark ? '#ccc' : '#666', callback: (v) => `${v}%` },\n            min: 0,\n            max: 100\n        }\n    }\n  };\n\n  return (\n    <div className=\"p-4 border-b border-gray-300 dark:border-neutral-800 space-y-4\">\n      <details className=\"group\">\n        <summary className=\"font-bold cursor-pointer list-none flex justify-between\">\n          <span>Data Trends Over Time</span>\n          <span className=\"group-open:rotate-180 transition-transform\">‚ñº</span>\n        </summary>\n        <div className=\"mt-4 space-y-6\">\n          <div className=\"h-64\">\n            <h5 className=\"text-xs font-bold text-center mb-2 dark:text-gray-300\">Major Area Popularity (% of Grads/Year)</h5>\n            <div className=\"h-full pb-6\">\n              <Line options={options} data={{ labels: years, datasets: majorDatasets }} />\n            </div>\n          </div>\n\n          <div className=\"h-64\">\n            <h5 className=\"text-xs font-bold text-center mb-2 dark:text-gray-300\">Location Focus (% of Grads/Year)</h5>\n            <div className=\"h-full pb-6\">\n              <Line options={options} data={{ labels: years, datasets: locationDatasets }} />\n            </div>\n          </div>\n\n          <div className=\"h-64\">\n            <h5 className=\"text-xs font-bold text-center mb-2 dark:text-gray-300\">Top 5 Colleges by Attendance (% of Grads/Year)</h5>\n            <div className=\"h-full pb-6\">\n              <Line options={options} data={{ labels: years, datasets: collegeDatasets }} />\n            </div>\n          </div>\n        </div>\n      </details>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 1923, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/map/MapMarkers.tsx"],"sourcesContent":["import React, { useEffect, useRef } from 'react';\nimport { useMap } from '@vis.gl/react-google-maps';\nimport { MarkerClusterer } from '@googlemaps/markerclusterer';\nimport { ProcessedStudent } from '@/lib/types';\nimport { GRAD_CLASS_COLORS } from '@/lib/constants';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { useUI } from '@/contexts/UIContext';\n\ndeclare var google: any;\n\ninterface MapMarkersProps {\n  students: ProcessedStudent[];\n}\n\nexport default function MapMarkers({ students }: MapMarkersProps) {\n  const map = useMap();\n  const { theme } = useTheme();\n  const { openPhotoPopup, activeHoverId, setActiveHoverId } = useUI();\n  const clustererRef = useRef<MarkerClusterer | null>(null);\n  const markersRef = useRef<{[key: number]: { marker: any; color: string } }>({});\n  const infowindowRef = useRef<any | null>(null);\n  const lastHighlightedRef = useRef<number | null>(null);\n\n  const buildIcon = (color: string, scale = 7, strokeWeight = 1.5) => ({\n    path: google.maps.SymbolPath.CIRCLE,\n    fillColor: color,\n    fillOpacity: 1,\n    strokeColor: theme === 'dark' ? '#111' : '#fff',\n    strokeWeight,\n    scale,\n  });\n\n  // Cleanup markers on unmount\n  useEffect(() => {\n    return () => {\n      if (clustererRef.current) {\n        clustererRef.current.clearMarkers();\n      }\n    };\n  }, []);\n\n  // Initialize info window once\n  useEffect(() => {\n     if (typeof google === 'undefined') return;\n     if (!infowindowRef.current) {\n         infowindowRef.current = new google.maps.InfoWindow();\n     }\n  }, []);\n\n  // Effect to handle marker highlighting from list hover\n  useEffect(() => {\n    if (typeof google === 'undefined') return;\n\n    // remove previous highlight\n    if (lastHighlightedRef.current !== null) {\n      const previous = markersRef.current[lastHighlightedRef.current];\n      if (previous) {\n        previous.marker.setIcon(buildIcon(previous.color));\n      }\n    }\n\n    // apply new highlight\n    if (activeHoverId !== null) {\n      const current = markersRef.current[activeHoverId];\n      if (current) {\n        current.marker.setIcon(buildIcon(current.color, 9, 2));\n        lastHighlightedRef.current = activeHoverId;\n        return;\n      }\n    }\n\n    lastHighlightedRef.current = null;\n  }, [activeHoverId, theme]);\n\n  useEffect(() => {\n    if (!map) return;\n    \n    if (!clustererRef.current) {\n      clustererRef.current = new MarkerClusterer({ \n          map,\n          renderer: {\n            render: ({ count, position }) => {\n                let color = \"red\";\n                let diameter = 50;\n                let labelColor = \"white\";\n\n                if (count <= 5) { color = \"green\"; diameter = 30; }\n                else if (count <= 10) { color = \"#90EE90\"; diameter = 35; labelColor = \"black\"; }\n                else if (count <= 20) { color = \"yellow\"; diameter = 40; labelColor = \"black\"; }\n                else if (count <= 50) { color = \"orange\"; diameter = 45; }\n\n                const svg = window.btoa(`\n                <svg xmlns=\"http://www.w3.org/2000/svg\" width=\"${diameter}\" height=\"${diameter}\" viewBox=\"0 0 ${diameter} ${diameter}\">\n                    <circle cx=\"${diameter / 2}\" cy=\"${diameter / 2}\" r=\"${diameter / 2 * 0.9}\" fill=\"${color}\" stroke=\"rgba(0,0,0,0.3)\" stroke-width=\"${Math.max(1, diameter * 0.04)}\"/>\n                </svg>`);\n\n                return new google.maps.Marker({\n                    position,\n                    icon: {\n                        url: `data:image/svg+xml;base64,${svg}`,\n                        scaledSize: new google.maps.Size(diameter, diameter),\n                        anchor: new google.maps.Point(diameter / 2, diameter / 2)\n                    },\n                    label: {\n                        text: String(count),\n                        color: labelColor,\n                        fontSize: '12px',\n                        fontWeight: 'bold',\n                    },\n                    zIndex: 100 + count,\n                });\n            }\n          }\n      });\n    }\n\n    clustererRef.current.clearMarkers();\n    markersRef.current = {};\n    lastHighlightedRef.current = null;\n\n    const newMarkers: any[] = [];\n\n    const openStudentInfo = (student: ProcessedStudent, marker: any) => {\n      if (infowindowRef.current) {\n        const content = `\n          <div style=\"color: black; padding: 4px;\">\n              <div style=\"font-weight: bold; font-size: 14px;\">${student.seniorName} (${student.gradClass})</div>\n              <div style=\"color: #2563eb; margin-bottom: 4px;\">${student.collegeName}</div>\n              <div style=\"font-size: 12px; color: #666;\">${student.major || 'Undecided'}</div>\n              ${student.collegeImageUrl ? `<img src=\"${student.collegeImageUrl}\" style=\"max-height:50px; margin-top:8px; display:block;\" />` : ''}\n          </div>\n        `;\n        infowindowRef.current.setContent(content);\n        infowindowRef.current.open(map, marker);\n      }\n    };\n\n    students.forEach((student) => {\n        if (student.lat === 0 && student.lng === 0) return;\n        if (student.collegeName === \"Undecided\") return; \n\n        const color = GRAD_CLASS_COLORS[student.gradClass] || \"#cccccc\";\n        \n        const marker = new google.maps.Marker({\n            position: { lat: student.lat, lng: student.lng },\n            title: `${student.seniorName} -> ${student.collegeName}`,\n            icon: buildIcon(color)\n        });\n\n        marker.addListener(\"click\", () => {\n             // Open InfoWindow\n             openStudentInfo(student, marker);\n             // Also trigger global selection for popup/sidebar sync\n             openPhotoPopup(student);\n        });\n\n        marker.addListener(\"mouseover\", () => {\n           setActiveHoverId(student.id);\n        });\n\n        marker.addListener(\"mouseout\", () => {\n           setActiveHoverId(null);\n        });\n\n        newMarkers.push(marker);\n        markersRef.current[student.id] = { marker, color };\n    });\n\n    clustererRef.current.addMarkers(newMarkers);\n\n    const handleCenterEvent = (e: CustomEvent<{ id: number }>) => {\n      const target = markersRef.current[e.detail.id];\n      if (target && map) {\n        map.panTo(target.marker.getPosition());\n        map.setZoom(Math.max(map.getZoom() ?? 7, 12));\n        openStudentInfo(students.find((s) => s.id === e.detail.id)!, target.marker);\n        setActiveHoverId(e.detail.id);\n      }\n    };\n\n    window.addEventListener('center-student-marker', handleCenterEvent as EventListener);\n    return () => {\n      window.removeEventListener('center-student-marker', handleCenterEvent as EventListener);\n    };\n\n  }, [map, students, theme, openPhotoPopup, setActiveHoverId]);\n\n  return null;\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 2160, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/map/MapControls.tsx"],"sourcesContent":["'use client';\n\nimport React from 'react';\nimport { useMap } from '@vis.gl/react-google-maps';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { useFilters } from '@/contexts/FilterContext';\n\ndeclare var google: any;\n\nexport function MapControls() {\n  const map = useMap();\n  const { toggleTheme, theme } = useTheme();\n  const { resetFilters } = useFilters();\n  const [transitLayer, setTransitLayer] = React.useState<any | null>(null);\n  const [mapType, setMapType] = React.useState<'roadmap' | 'satellite'>('roadmap');\n\n  React.useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const stored = window.localStorage.getItem('map-type');\n    if (stored === 'satellite' || stored === 'roadmap') {\n      setMapType(stored);\n      if (map) map.setMapTypeId(stored);\n    }\n    const storedTransit = window.localStorage.getItem('transit-visible');\n    if (storedTransit === 'true' && map && !transitLayer) {\n      const layer = new google.maps.TransitLayer();\n      layer.setMap(map);\n      setTransitLayer(layer);\n    }\n  }, [map]); \n\n  const handleToggleTransit = () => {\n    if (!map) return;\n    if (transitLayer) {\n        transitLayer.setMap(null);\n        setTransitLayer(null);\n        if (typeof window !== 'undefined') window.localStorage.setItem('transit-visible', 'false');\n    } else {\n        const layer = new google.maps.TransitLayer();\n        layer.setMap(map);\n        setTransitLayer(layer);\n        if (typeof window !== 'undefined') window.localStorage.setItem('transit-visible', 'true');\n    }\n  };\n\n  const toggleMapType = () => {\n    if (!map) return;\n    const next = mapType === 'roadmap' ? 'satellite' : 'roadmap';\n    map.setMapTypeId(next);\n    setMapType(next);\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem('map-type', next);\n    }\n  };\n\n  const handleZoomVisible = () => {\n      // In a real implementation, calculate bounds of filteredStudents and map.fitBounds(bounds)\n      if(!map) return;\n      map.setZoom(7);\n      map.setCenter({ lat: 41.8, lng: -74.5 });\n  };\n\n  return (\n    <>\n      <div\n        className=\"absolute top-2 right-4 flex flex-wrap gap-2 max-w-[calc(100%-120px)] justify-end pointer-events-none\"\n        style={{ transform: 'translateX(0px)' }}\n      >\n        <div className=\"bg-white/90 dark:bg-neutral-800/90 p-2 rounded shadow flex flex-wrap gap-2 pointer-events-auto backdrop-blur-sm border border-gray-200 dark:border-neutral-700\">\n          <button\n            onClick={toggleTheme}\n            className=\"px-3 py-1 bg-gray-100 dark:bg-neutral-700 rounded hover:bg-gray-200 text-sm\"\n          >\n            {theme === 'dark' ? '‚òÄÔ∏è Light' : 'üåô Dark'}\n          </button>\n          <button\n            onClick={toggleMapType}\n            className=\"px-3 py-1 bg-gray-100 dark:bg-neutral-700 rounded hover:bg-gray-200 text-sm\"\n          >\n            {mapType === 'satellite' ? 'üó∫Ô∏è Map' : 'üõ∞Ô∏è Satellite'}\n          </button>\n          <button\n            onClick={handleToggleTransit}\n            className=\"px-3 py-1 bg-gray-100 dark:bg-neutral-700 rounded hover:bg-gray-200 text-sm\"\n          >\n            {transitLayer ? 'üöá Hide Transit' : 'üöá Transit'}\n          </button>\n          <button\n            onClick={handleZoomVisible}\n            className=\"px-3 py-1 bg-gray-100 dark:bg-neutral-700 rounded hover:bg-gray-200 text-sm\"\n          >\n            üëÅÔ∏è Reset View\n          </button>\n          <button\n            onClick={resetFilters}\n            className=\"px-3 py-1 bg-gray-100 dark:bg-neutral-700 rounded hover:bg-gray-200 text-sm\"\n          >\n            üßπ Clear Filters\n          </button>\n        </div>\n      </div>\n    </>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AACA;;;AALA;;;;;AASO,SAAS;;IACd,MAAM,MAAM,IAAA,+LAAM;IAClB,MAAM,EAAE,WAAW,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAQ;IACvC,MAAM,EAAE,YAAY,EAAE,GAAG,IAAA,kJAAU;IACnC,MAAM,CAAC,cAAc,gBAAgB,GAAG,wKAAK,CAAC,QAAQ,CAAa;IACnE,MAAM,CAAC,SAAS,WAAW,GAAG,wKAAK,CAAC,QAAQ,CAA0B;IAEtE,wKAAK,CAAC,SAAS;iCAAC;YACd;;YACA,MAAM,SAAS,OAAO,YAAY,CAAC,OAAO,CAAC;YAC3C,IAAI,WAAW,eAAe,WAAW,WAAW;gBAClD,WAAW;gBACX,IAAI,KAAK,IAAI,YAAY,CAAC;YAC5B;YACA,MAAM,gBAAgB,OAAO,YAAY,CAAC,OAAO,CAAC;YAClD,IAAI,kBAAkB,UAAU,OAAO,CAAC,cAAc;gBACpD,MAAM,QAAQ,IAAI,OAAO,IAAI,CAAC,YAAY;gBAC1C,MAAM,MAAM,CAAC;gBACb,gBAAgB;YAClB;QACF;gCAAG;QAAC;KAAI;IAER,MAAM,sBAAsB;QAC1B,IAAI,CAAC,KAAK;QACV,IAAI,cAAc;YACd,aAAa,MAAM,CAAC;YACpB,gBAAgB;YAChB,wCAAmC,OAAO,YAAY,CAAC,OAAO,CAAC,mBAAmB;QACtF,OAAO;YACH,MAAM,QAAQ,IAAI,OAAO,IAAI,CAAC,YAAY;YAC1C,MAAM,MAAM,CAAC;YACb,gBAAgB;YAChB,wCAAmC,OAAO,YAAY,CAAC,OAAO,CAAC,mBAAmB;QACtF;IACF;IAEA,MAAM,gBAAgB;QACpB,IAAI,CAAC,KAAK;QACV,MAAM,OAAO,YAAY,YAAY,cAAc;QACnD,IAAI,YAAY,CAAC;QACjB,WAAW;QACX,wCAAmC;YACjC,OAAO,YAAY,CAAC,OAAO,CAAC,YAAY;QAC1C;IACF;IAEA,MAAM,oBAAoB;QACtB,2FAA2F;QAC3F,IAAG,CAAC,KAAK;QACT,IAAI,OAAO,CAAC;QACZ,IAAI,SAAS,CAAC;YAAE,KAAK;YAAM,KAAK,CAAC;QAAK;IAC1C;IAEA,qBACE;kBACE,cAAA,6LAAC;YACC,WAAU;YACV,OAAO;gBAAE,WAAW;YAAkB;sBAEtC,cAAA,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBACC,SAAS;wBACT,WAAU;kCAET,UAAU,SAAS,aAAa;;;;;;kCAEnC,6LAAC;wBACC,SAAS;wBACT,WAAU;kCAET,YAAY,cAAc,YAAY;;;;;;kCAEzC,6LAAC;wBACC,SAAS;wBACT,WAAU;kCAET,eAAe,oBAAoB;;;;;;kCAEtC,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;kCAGD,6LAAC;wBACC,SAAS;wBACT,WAAU;kCACX;;;;;;;;;;;;;;;;;;AAOX;GA9FgB;;QACF,+LAAM;QACa,+IAAQ;QACd,kJAAU;;;KAHrB"}},
    {"offset": {"line": 2317, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/map/CollegeMap.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect } from 'react';\nimport { APIProvider, Map, useMap } from '@vis.gl/react-google-maps';\nimport { useTheme } from '@/contexts/ThemeContext';\nimport { useFilters } from '@/contexts/FilterContext';\nimport { MAP_STYLE_DARK } from '@/lib/constants';\nimport MapMarkers from './MapMarkers';\nimport { MapControls } from './MapControls';\n\nconst DEFAULT_CENTER = { lat: 41.8, lng: -74.5 };\nconst DEFAULT_ZOOM = 7;\n\n// Sync map styling with theme without recreating the map instance\nfunction MapStyleSync({ theme }: { theme: 'light' | 'dark' }) {\n  const map = useMap();\n\n  useEffect(() => {\n    if (!map) return;\n    const styles = theme === 'dark' ? MAP_STYLE_DARK : [];\n    map.setOptions({ styles });\n  }, [map, theme]);\n\n  return null;\n}\n\nexport default function CollegeMap() {\n  const { theme } = useTheme();\n  const { filteredStudents } = useFilters();\n  const [mapType, setMapType] = React.useState<'roadmap' | 'satellite'>('roadmap');\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    const stored = window.localStorage.getItem('map-type');\n    if (stored === 'satellite' || stored === 'roadmap') {\n      setMapType(stored);\n    }\n  }, []);\n\n  // Persist map type\n  useEffect(() => {\n    if (typeof window !== 'undefined') {\n      window.localStorage.setItem('map-type', mapType);\n    }\n  }, [mapType]);\n  \n  return (\n    <div className=\"relative w-full h-full bg-gray-200 dark:bg-neutral-800\">\n      <APIProvider apiKey={process.env.NEXT_PUBLIC_GOOGLE_MAPS_API_KEY || ''}>\n        <Map\n          defaultCenter={DEFAULT_CENTER}\n          defaultZoom={DEFAULT_ZOOM}\n          gestureHandling={'greedy'}\n          disableDefaultUI={false}\n          fullscreenControl={false} // We have custom controls or layout handles this\n          defaultMapTypeId={mapType}\n          onMapTypeIdChanged={(e) => {\n            const newType = (e as any)?.mapTypeId || mapType;\n            if (newType === 'satellite' || newType === 'roadmap') setMapType(newType);\n          }}\n          className=\"w-full h-full\"\n        >\n            <MapStyleSync theme={theme} />\n            <MapMarkers students={filteredStudents} />\n            <MapControls />\n        </Map>\n      </APIProvider>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;AAgD2B;;AA9C3B;AACA;AACA;AACA;AACA;AACA;AACA;;;AARA;;;;;;;;AAUA,MAAM,iBAAiB;IAAE,KAAK;IAAM,KAAK,CAAC;AAAK;AAC/C,MAAM,eAAe;AAErB,kEAAkE;AAClE,SAAS,aAAa,EAAE,KAAK,EAA+B;;IAC1D,MAAM,MAAM,IAAA,+LAAM;IAElB,IAAA,0KAAS;kCAAC;YACR,IAAI,CAAC,KAAK;YACV,MAAM,SAAS,UAAU,SAAS,4IAAc,GAAG,EAAE;YACrD,IAAI,UAAU,CAAC;gBAAE;YAAO;QAC1B;iCAAG;QAAC;QAAK;KAAM;IAEf,OAAO;AACT;GAVS;;QACK,+LAAM;;;KADX;AAYM,SAAS;;IACtB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,+IAAQ;IAC1B,MAAM,EAAE,gBAAgB,EAAE,GAAG,IAAA,kJAAU;IACvC,MAAM,CAAC,SAAS,WAAW,GAAG,wKAAK,CAAC,QAAQ,CAA0B;IAEtE,IAAA,0KAAS;gCAAC;YACR;;YACA,MAAM,SAAS,OAAO,YAAY,CAAC,OAAO,CAAC;YAC3C,IAAI,WAAW,eAAe,WAAW,WAAW;gBAClD,WAAW;YACb;QACF;+BAAG,EAAE;IAEL,mBAAmB;IACnB,IAAA,0KAAS;gCAAC;YACR,wCAAmC;gBACjC,OAAO,YAAY,CAAC,OAAO,CAAC,YAAY;YAC1C;QACF;+BAAG;QAAC;KAAQ;IAEZ,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC,oMAAW;YAAC,QAAQ,+EAA+C;sBAClE,cAAA,6LAAC,4LAAG;gBACF,eAAe;gBACf,aAAa;gBACb,iBAAiB;gBACjB,kBAAkB;gBAClB,mBAAmB;gBACnB,kBAAkB;gBAClB,oBAAoB,CAAC;oBACnB,MAAM,UAAU,AAAC,GAAW,aAAa;oBACzC,IAAI,YAAY,eAAe,YAAY,WAAW,WAAW;gBACnE;gBACA,WAAU;;kCAER,6LAAC;wBAAa,OAAO;;;;;;kCACrB,6LAAC,qJAAU;wBAAC,UAAU;;;;;;kCACtB,6LAAC,0JAAW;;;;;;;;;;;;;;;;;;;;;AAKxB;IA3CwB;;QACJ,+IAAQ;QACG,kJAAU;;;MAFjB"}},
    {"offset": {"line": 2464, "column": 0}, "map": {"version":3,"sources":["file:///C:/Users/kirk/Downloads/Coding%20Projects/collegemaptest/src/components/ui/PhotoPopup.tsx"],"sourcesContent":["'use client';\n\nimport React, { useEffect, useMemo, useRef, useState } from 'react';\nimport { PopupAnchorRect, useUI } from '@/contexts/UIContext';\nimport { X, ChevronLeft, ChevronRight } from 'lucide-react';\nimport { createPortal } from 'react-dom';\nimport { useFilters } from '@/contexts/FilterContext';\nimport { GRAD_CLASS_COLORS } from '@/lib/constants';\n\nexport default function PhotoPopup() {\n  const { selectedStudent, isPhotoPopupOpen, closePhotoPopup, openPhotoPopup, popupAnchorRect } = useUI();\n  const { filteredStudents } = useFilters();\n  const [isZoomed, setIsZoomed] = useState(false);\n  const wasOpenRef = useRef(false);\n\n  const captionText = useMemo(() => {\n    if (!selectedStudent) return '';\n    return selectedStudent.bioCaption && selectedStudent.bioCaption.trim().length > 0\n      ? selectedStudent.bioCaption\n      : `Congrats to ${selectedStudent.seniorName} on committing to ${selectedStudent.collegeName}!`;\n  }, [selectedStudent]);\n\n  // Reset zoom when the popup is first opened or closed\n  useEffect(() => {\n    if (isPhotoPopupOpen && !wasOpenRef.current) {\n      setIsZoomed(false);\n    }\n    if (!isPhotoPopupOpen) {\n      setIsZoomed(false);\n    }\n    wasOpenRef.current = isPhotoPopupOpen;\n  }, [isPhotoPopupOpen]);\n\n  // Close on Escape (mirrors vanilla zoom popup behavior)\n  useEffect(() => {\n    const handleEsc = (e: KeyboardEvent) => {\n      if (e.key === 'Escape' && isPhotoPopupOpen) {\n        e.preventDefault();\n        setIsZoomed(false);\n        closePhotoPopup();\n      }\n    };\n    if (isPhotoPopupOpen) window.addEventListener('keydown', handleEsc);\n    return () => window.removeEventListener('keydown', handleEsc);\n  }, [isPhotoPopupOpen, closePhotoPopup]);\n\n  const handleNext = (e?: React.MouseEvent | KeyboardEvent) => {\n    e?.stopPropagation?.();\n    if (!selectedStudent || filteredStudents.length === 0) return;\n\n    const currentIndex = filteredStudents.findIndex((s) => s.id === selectedStudent.id);\n    const nextIndex = currentIndex === -1 ? 0 : (currentIndex + 1) % filteredStudents.length;\n\n    openPhotoPopup(filteredStudents[nextIndex]);\n    setIsZoomed(true);\n  };\n\n  const handlePrev = (e?: React.MouseEvent | KeyboardEvent) => {\n    e?.stopPropagation?.();\n    if (!selectedStudent || filteredStudents.length === 0) return;\n\n    const currentIndex = filteredStudents.findIndex((s) => s.id === selectedStudent.id);\n    const prevIndex =\n      currentIndex === -1\n        ? filteredStudents.length - 1\n        : (currentIndex - 1 + filteredStudents.length) % filteredStudents.length;\n\n    openPhotoPopup(filteredStudents[prevIndex]);\n    setIsZoomed(true);\n  };\n\n  // Arrow key navigation only while zoomed (matches original behavior)\n  useEffect(() => {\n    const handleArrow = (e: KeyboardEvent) => {\n      if (!isPhotoPopupOpen || !isZoomed) return;\n      if (e.key === 'ArrowRight') {\n        handleNext(e);\n        e.preventDefault();\n      } else if (e.key === 'ArrowLeft') {\n        handlePrev(e);\n        e.preventDefault();\n      }\n    };\n    window.addEventListener('keydown', handleArrow);\n    return () => window.removeEventListener('keydown', handleArrow);\n  }, [isPhotoPopupOpen, isZoomed, filteredStudents, selectedStudent]);\n\n  if (!isPhotoPopupOpen || !selectedStudent) return null;\n\n  const gradColor = GRAD_CLASS_COLORS[selectedStudent.gradClass] || '#888';\n  const SocialLinks = (\n    <div className=\"flex justify-center gap-4\">\n      {selectedStudent.instagramUrl && (\n        <a\n          href={selectedStudent.instagramUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"hover:scale-110 transition-transform\"\n        >\n          <img src=\"/logos/instagram.svg\" alt=\"Instagram\" className=\"h-7 w-7\" />\n        </a>\n      )}\n      {selectedStudent.linkedInUrl && (\n        <a\n          href={selectedStudent.linkedInUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"hover:scale-110 transition-transform\"\n        >\n          <img src=\"/logos/linkedin.svg\" alt=\"LinkedIn\" className=\"h-7 w-7\" />\n        </a>\n      )}\n      {selectedStudent.githubUrl && (\n        <a\n          href={selectedStudent.githubUrl}\n          target=\"_blank\"\n          rel=\"noreferrer\"\n          className=\"hover:scale-110 transition-transform\"\n        >\n          <img src=\"/logos/github.svg\" alt=\"GitHub\" className=\"h-7 w-7 dark:invert\" />\n        </a>\n      )}\n    </div>\n  );\n\n  const closeAll = (e?: React.MouseEvent) => {\n    e?.stopPropagation();\n    setIsZoomed(false);\n    closePhotoPopup();\n  };\n\n  const computePreviewPosition = (anchor?: PopupAnchorRect | null) => {\n    if (typeof window === 'undefined') return { top: 24, left: 24, width: 320, maxHeight: 600 };\n    const viewportMargin = 12;\n    const gapFromList = 16;\n    const preferredWidth = 320;\n    const maxLeft = window.innerWidth - preferredWidth - viewportMargin;\n    const maxHeight = Math.max(240, window.innerHeight - viewportMargin * 2);\n\n    if (!anchor) {\n      return { top: viewportMargin, left: Math.max(viewportMargin, maxLeft), width: preferredWidth, maxHeight };\n    }\n\n    let left = anchor.right + gapFromList; // keep a gap from the list scrollbar\n    if (left > maxLeft) {\n      // If pushing right would overflow, place it to the left of the list item\n      left = anchor.left - preferredWidth - gapFromList;\n    }\n    left = Math.max(viewportMargin, Math.min(left, maxLeft));\n\n    const maxTopAllowed = window.innerHeight - maxHeight - viewportMargin;\n    let top = Math.min(anchor.top, Math.max(viewportMargin, maxTopAllowed));\n\n    return { top, left, width: preferredWidth, maxHeight };\n  };\n\n  const previewPos = computePreviewPosition(popupAnchorRect);\n\n  const FloatingPreview = (\n    <div\n      className=\"fixed z-[9999] rounded-xl border border-gray-200 dark:border-neutral-700 bg-white dark:bg-neutral-900 shadow-2xl overflow-hidden\"\n      style={{\n        top: previewPos.top + 50, // larger nudge down for breathing room\n        left: previewPos.left,\n        width: previewPos.width,\n        maxWidth: '90vw',\n        maxHeight: previewPos.maxHeight,\n        overflowY: 'auto'\n      }}\n    >\n          <div className=\"flex items-start justify-between px-4 py-3 border-b border-gray-200 dark:border-neutral-800\">\n            <div className=\"space-y-0.5\">\n              <div className=\"text-sm font-semibold text-gray-900 dark:text-gray-100\">{selectedStudent.seniorName}</div>\n              <button\n                type=\"button\"\n                className=\"text-xs text-blue-600 dark:text-blue-300 font-semibold underline-offset-2 hover:underline\"\n                onClick={(e) => {\n                  e.stopPropagation();\n                  window.dispatchEvent(new CustomEvent('center-student-marker', { detail: { id: selectedStudent.id } }));\n                }}\n              >\n                {selectedStudent.collegeName}\n              </button>\n              <div className=\"flex items-center gap-2 text-xs text-gray-600 dark:text-gray-400\">\n                <span className=\"px-2 py-0.5 rounded-full text-white font-bold\" style={{ backgroundColor: gradColor }}>\n                  Class of {selectedStudent.gradClass}\n                </span>\n                <span>{selectedStudent.major || 'Undecided'}</span>\n          </div>\n        </div>\n        <button\n          onClick={closeAll}\n          className=\"p-1 text-gray-500 hover:text-red-500 rounded-full hover:bg-gray-100 dark:hover:bg-neutral-800 transition-colors\"\n          aria-label=\"Close senior photo\"\n        >\n          <X size={18} />\n        </button>\n      </div>\n\n      <div className=\"relative bg-black\">\n        <img\n          src={selectedStudent.seniorPhotoUrl}\n          alt={selectedStudent.seniorName}\n          className=\"w-full object-contain max-h-80 cursor-zoom-in\"\n          onClick={(e) => {\n            e.stopPropagation();\n            setIsZoomed(true);\n          }}\n          onError={(e) => {\n            (e.target as HTMLImageElement).src = selectedStudent.seniorPhotoUrlPng || '/placeholder-logo.png';\n          }}\n        />\n        <div className=\"absolute bottom-2 right-2 bg-black/70 text-white text-xs px-2 py-1 rounded\">\n          Click to zoom & browse\n        </div>\n      </div>\n\n      <div className=\"px-4 py-3 space-y-3\">\n        <div className=\"text-sm text-gray-700 dark:text-gray-200 whitespace-pre-wrap max-h-32 overflow-y-auto leading-relaxed\">\n          {captionText}\n        </div>\n        <div className=\"pt-3 border-t border-gray-200 dark:border-neutral-800\">{SocialLinks}</div>\n      </div>\n    </div>\n  );\n\n  const ZoomOverlay = (\n    <div\n      className=\"fixed inset-0 z-[10000] bg-black/70 backdrop-blur-sm flex items-center justify-center\"\n      onClick={closeAll}\n    >\n      {filteredStudents.length > 1 && (\n        <>\n          <button\n            onClick={handlePrev}\n            className=\"absolute left-4 top-1/2 -translate-y-1/2 z-[10001] p-3 bg-black/80 text-white rounded-full hover:bg-black/90 transition-colors shadow-xl\"\n            aria-label=\"Previous senior\"\n          >\n            <ChevronLeft size={32} />\n          </button>\n          <button\n            onClick={handleNext}\n            className=\"absolute right-4 top-1/2 -translate-y-1/2 z-[10001] p-3 bg-black/80 text-white rounded-full hover:bg-black/90 transition-colors shadow-xl\"\n            aria-label=\"Next senior\"\n          >\n            <ChevronRight size={32} />\n          </button>\n        </>\n      )}\n\n      <button\n        onClick={closeAll}\n        className=\"absolute top-4 right-4 z-[10002] p-2 bg-black/70 text-white rounded-full hover:bg-red-500 transition-colors shadow-lg\"\n        aria-label=\"Close zoomed photo\"\n      >\n        <X size={22} />\n      </button>\n\n      <div\n        className=\"flex flex-col md:flex-row items-center justify-center gap-6 max-w-6xl w-full h-full px-4\"\n        onClick={(e) => e.stopPropagation()}\n      >\n        <div className=\"flex-1 flex items-center justify-center max-h-[90vh] w-full\">\n          <img\n            src={selectedStudent.seniorPhotoUrl}\n            alt={selectedStudent.seniorName}\n            className=\"max-h-[85vh] w-auto object-contain rounded-lg shadow-2xl bg-black\"\n            onError={(e) => {\n              (e.target as HTMLImageElement).src = selectedStudent.seniorPhotoUrlPng || '/placeholder-logo.png';\n            }}\n          />\n        </div>\n\n        <div className=\"w-full md:w-[420px] max-h-[90vh] overflow-y-auto rounded-xl bg-white/95 dark:bg-neutral-900/95 text-gray-900 dark:text-gray-50 shadow-2xl border border-gray-200/70 dark:border-neutral-700/70 p-6 space-y-3\">\n          <div className=\"text-center md:text-left space-y-1\">\n            <div className=\"text-2xl font-bold\">{selectedStudent.seniorName}</div>\n            <div className=\"flex flex-wrap justify-center md:justify-start items-center gap-2 text-sm\">\n              <span className=\"px-3 py-1 rounded-full text-white font-bold\" style={{ backgroundColor: gradColor }}>\n                Class of {selectedStudent.gradClass}\n              </span>\n              <button\n                onClick={() => {\n                  window.dispatchEvent(new CustomEvent('center-student-marker', { detail: { id: selectedStudent.id } }));\n                }}\n                className=\"text-blue-600 dark:text-blue-300 font-semibold underline-offset-2 hover:underline\"\n              >\n                {selectedStudent.collegeName}\n              </button>\n            </div>\n            <div className=\"text-sm text-gray-600 dark:text-gray-300\">{selectedStudent.major || 'Undecided'}</div>\n          </div>\n\n          <div className=\"text-sm whitespace-pre-wrap leading-relaxed text-gray-800 dark:text-gray-200\">\n            {captionText}\n          </div>\n\n          <div className=\"pt-2 border-t border-gray-200 dark:border-neutral-800\">{SocialLinks}</div>\n\n          <div className=\"text-xs text-gray-500 dark:text-gray-400 text-center border-t border-gray-200 dark:border-neutral-800 pt-3\">\n            Use ‚Üê/‚Üí to browse seniors. Click outside the photo or press Esc to exit zoom.\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n\n  // Floating preview mirrors the small popup; zoom overlay mirrors the zoomed view.\n  if (!isZoomed) {\n    return typeof document !== 'undefined' ? createPortal(FloatingPreview, document.body) : null;\n  }\n\n  return typeof document !== 'undefined' ? createPortal(ZoomOverlay, document.body) : null;\n}\n"],"names":[],"mappings":"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"}}]
}